{"ast":null,"code":"import { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { has, isArray } from \"lodash\";\nimport { toast } from \"react-toastify\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport moment from \"moment\";\nconst useAuth = () => {\n  const history = useHistory();\n  const [isAuth, setIsAuth] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState({});\n  api.interceptors.request.use(config => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      config.headers[\"Authorization\"] = `Bearer ${token}`;\n      setIsAuth(true);\n    }\n    return config;\n  }, error => {\n    Promise.reject(error);\n  });\n  api.interceptors.response.use(response => {\n    return response;\n  }, async error => {\n    var _error$response, _error$response2;\n    const originalRequest = error.config;\n    if ((error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 403 && !originalRequest._retry) {\n      originalRequest._retry = true;\n      const {\n        data\n      } = await api.post(\"/auth/refresh_token\");\n      if (data) {\n        localStorage.setItem(\"token\", data.token);\n        api.defaults.headers.Authorization = `Bearer ${data.token}`;\n      }\n      return api(originalRequest);\n    }\n    if ((error === null || error === void 0 ? void 0 : (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 401) {\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"companyId\");\n      api.defaults.headers.Authorization = undefined;\n      setIsAuth(false);\n    }\n    return Promise.reject(error);\n  });\n  const socketManager = useContext(SocketContext);\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    (async () => {\n      if (token) {\n        try {\n          const {\n            data\n          } = await api.post(\"/auth/refresh_token\");\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\n          setIsAuth(true);\n          setUser(data.user);\n        } catch (err) {\n          toastError(err);\n        }\n      }\n      setLoading(false);\n    })();\n  }, []);\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    if (companyId) {\n      const socket = socketManager.getSocket(companyId);\n      socket.on(`company-${companyId}-user`, data => {\n        if (data.action === \"update\" && data.user.id === user.id) {\n          setUser(data.user);\n        }\n      });\n      return () => {\n        socket.disconnect();\n      };\n    }\n  }, [socketManager, user]);\n  const handleLogin = async userData => {\n    setLoading(true);\n    try {\n      const {\n        data\n      } = await api.post(\"/auth/login\", userData);\n      const {\n        user: {\n          companyId,\n          id,\n          company\n        }\n      } = data;\n      if (has(company, \"settings\") && isArray(company.settings)) {\n        const setting = company.settings.find(s => s.key === \"campaignsEnabled\");\n        if (setting && setting.value === \"true\") {\n          localStorage.setItem(\"cshow\", null); //regra pra exibir campanhas\n        }\n      }\n      moment.locale('es');\n      const dueDate = data.user.company.dueDate;\n      const vencimento = moment(dueDate).format(\"DD/MM/yyyy\");\n      var diff = moment(dueDate).diff(moment(moment()).format());\n      var before = moment(moment().format()).isBefore(dueDate);\n      var dias = moment.duration(diff).asDays();\n      if (before === true) {\n        localStorage.setItem(\"token\", data.token);\n        localStorage.setItem(\"companyId\", companyId);\n        localStorage.setItem(\"userId\", id);\n        localStorage.setItem(\"companyDueDate\", vencimento);\n        api.defaults.headers.Authorization = `Bearer ${data.token}`;\n        setUser(data.user);\n        setIsAuth(true);\n        toast.success(i18n.t(\"auth.toasts.success\"));\n        if (Math.round(dias) < 5) {\n          toast.warn(`Sua assinatura vence em ${Math.round(dias)} ${Math.round(dias) === 1 ? 'dia' : 'dias'} `);\n        }\n        history.push(\"/tickets\");\n        setLoading(false);\n      } else {\n        toastError(`Opss! Sua assinatura venceu ${vencimento}.\nEntre em contato com o Suporte para mais informações! `);\n        setLoading(false);\n      }\n\n      //quebra linha \n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n  const handleLogout = async () => {\n    setLoading(true);\n    try {\n      await api.delete(\"/auth/logout\");\n      setIsAuth(false);\n      setUser({});\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"companyId\");\n      localStorage.removeItem(\"userId\");\n      localStorage.removeItem(\"cshow\");\n      api.defaults.headers.Authorization = undefined;\n      setLoading(false);\n      history.push(\"/login\");\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n  const getCurrentUserInfo = async () => {\n    try {\n      const {\n        data\n      } = await api.get(\"/auth/me\");\n      return data;\n    } catch (err) {\n      toastError(err);\n    }\n  };\n  return {\n    isAuth,\n    user,\n    loading,\n    handleLogin,\n    handleLogout,\n    getCurrentUserInfo\n  };\n};\nexport default useAuth;","map":{"version":3,"names":["useState","useEffect","useContext","useHistory","has","isArray","toast","i18n","api","toastError","SocketContext","moment","useAuth","history","isAuth","setIsAuth","loading","setLoading","user","setUser","interceptors","request","use","config","token","localStorage","getItem","headers","error","Promise","reject","response","_error$response","_error$response2","originalRequest","status","_retry","data","post","setItem","defaults","Authorization","removeItem","undefined","socketManager","err","companyId","socket","getSocket","on","action","id","disconnect","handleLogin","userData","company","settings","setting","find","s","key","value","locale","dueDate","vencimento","format","diff","before","isBefore","dias","duration","asDays","success","t","Math","round","warn","push","handleLogout","delete","getCurrentUserInfo","get"],"sources":["C:/laragon/www/whaticket03/waticketsaas/frontend/src/hooks/useAuth.js/index.js"],"sourcesContent":["import { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { has, isArray } from \"lodash\";\n\nimport { toast } from \"react-toastify\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nimport moment from \"moment\";\nconst useAuth = () => {\n  const history = useHistory();\n  const [isAuth, setIsAuth] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState({});\n\n  api.interceptors.request.use(\n    (config) => {\n      const token = localStorage.getItem(\"token\");\n      if (token) {\n        config.headers[\"Authorization\"] = `Bearer ${token}`;\n        setIsAuth(true);\n      }\n      return config;\n    },\n    (error) => {\n      Promise.reject(error);\n    }\n  );\n\n  api.interceptors.response.use(\n    (response) => {\n      return response;\n    },\n    async (error) => {\n      const originalRequest = error.config;\n      if (error?.response?.status === 403 && !originalRequest._retry) {\n        originalRequest._retry = true;\n\n        const { data } = await api.post(\"/auth/refresh_token\");\n        if (data) {\n          localStorage.setItem(\"token\", data.token);\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\n        }\n        return api(originalRequest);\n      }\n      if (error?.response?.status === 401) {\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"companyId\");\n        api.defaults.headers.Authorization = undefined;\n        setIsAuth(false);\n      }\n      return Promise.reject(error);\n    }\n  );\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    (async () => {\n      if (token) {\n        try {\n          const { data } = await api.post(\"/auth/refresh_token\");\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\n          setIsAuth(true);\n          setUser(data.user);\n        } catch (err) {\n          toastError(err);\n        }\n      }\n      setLoading(false);\n    })();\n  }, []);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    if (companyId) {\n   \n      const socket = socketManager.getSocket(companyId);\n\n      socket.on(`company-${companyId}-user`, (data) => {\n        if (data.action === \"update\" && data.user.id === user.id) {\n          setUser(data.user);\n        }\n      });\n    \n    \n    return () => {\n      socket.disconnect();\n    };\n  }\n  }, [socketManager, user]);\n\n  const handleLogin = async (userData) => {\n    setLoading(true);\n\n    try {\n      const { data } = await api.post(\"/auth/login\", userData);\n      const {\n        user: { companyId, id, company },\n      } = data;\n\n      if (has(company, \"settings\") && isArray(company.settings)) {\n        const setting = company.settings.find(\n          (s) => s.key === \"campaignsEnabled\"\n        );\n        if (setting && setting.value === \"true\") {\n          localStorage.setItem(\"cshow\", null); //regra pra exibir campanhas\n        }\n      }\n\n      moment.locale('es');\n      const dueDate = data.user.company.dueDate;\n      const vencimento = moment(dueDate).format(\"DD/MM/yyyy\");\n\n      var diff = moment(dueDate).diff(moment(moment()).format());\n\n      var before = moment(moment().format()).isBefore(dueDate);\n      var dias = moment.duration(diff).asDays();\n\n      if (before === true) {\n        localStorage.setItem(\"token\", data.token);\n        localStorage.setItem(\"companyId\", companyId);\n        localStorage.setItem(\"userId\", id);\n        localStorage.setItem(\"companyDueDate\", vencimento);\n        api.defaults.headers.Authorization = `Bearer ${data.token}`;\n        setUser(data.user);\n        setIsAuth(true);\n        toast.success(i18n.t(\"auth.toasts.success\"));\n        if (Math.round(dias) < 5) {\n          toast.warn(`Sua assinatura vence em ${Math.round(dias)} ${Math.round(dias) === 1 ? 'dia' : 'dias'} `);\n        }\n        history.push(\"/tickets\");\n        setLoading(false);\n      } else {\n        toastError(`Opss! Sua assinatura venceu ${vencimento}.\nEntre em contato com o Suporte para mais informações! `);\n        setLoading(false);\n      }\n\n      //quebra linha \n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleLogout = async () => {\n    setLoading(true);\n\n    try {\n      await api.delete(\"/auth/logout\");\n      setIsAuth(false);\n      setUser({});\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"companyId\");\n      localStorage.removeItem(\"userId\");\n      localStorage.removeItem(\"cshow\");\n      api.defaults.headers.Authorization = undefined;\n      setLoading(false);\n      history.push(\"/login\");\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const getCurrentUserInfo = async () => {\n    try {\n      const { data } = await api.get(\"/auth/me\");\n      return data;\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return {\n    isAuth,\n    user,\n    loading,\n    handleLogin,\n    handleLogout,\n    getCurrentUserInfo,\n  };\n};\n\nexport default useAuth;\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AACvD,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAASC,GAAG,EAAEC,OAAO,QAAQ,QAAQ;AAErC,SAASC,KAAK,QAAQ,gBAAgB;AAEtC,SAASC,IAAI,QAAQ,sBAAsB;AAC3C,OAAOC,GAAG,MAAM,oBAAoB;AACpC,OAAOC,UAAU,MAAM,yBAAyB;AAChD,SAASC,aAAa,QAAQ,oCAAoC;AAClE,OAAOC,MAAM,MAAM,QAAQ;AAC3B,MAAMC,OAAO,GAAGA,CAAA,KAAM;EACpB,MAAMC,OAAO,GAAGV,UAAU,CAAC,CAAC;EAC5B,MAAM,CAACW,MAAM,EAAEC,SAAS,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAACgB,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACkB,IAAI,EAAEC,OAAO,CAAC,GAAGnB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAEpCQ,GAAG,CAACY,YAAY,CAACC,OAAO,CAACC,GAAG,CACzBC,MAAM,IAAK;IACV,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAIF,KAAK,EAAE;MACTD,MAAM,CAACI,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUH,KAAK,EAAE;MACnDT,SAAS,CAAC,IAAI,CAAC;IACjB;IACA,OAAOQ,MAAM;EACf,CAAC,EACAK,KAAK,IAAK;IACTC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;EACvB,CACF,CAAC;EAEDpB,GAAG,CAACY,YAAY,CAACW,QAAQ,CAACT,GAAG,CAC1BS,QAAQ,IAAK;IACZ,OAAOA,QAAQ;EACjB,CAAC,EACD,MAAOH,KAAK,IAAK;IAAA,IAAAI,eAAA,EAAAC,gBAAA;IACf,MAAMC,eAAe,GAAGN,KAAK,CAACL,MAAM;IACpC,IAAI,CAAAK,KAAK,aAALA,KAAK,wBAAAI,eAAA,GAALJ,KAAK,CAAEG,QAAQ,cAAAC,eAAA,uBAAfA,eAAA,CAAiBG,MAAM,MAAK,GAAG,IAAI,CAACD,eAAe,CAACE,MAAM,EAAE;MAC9DF,eAAe,CAACE,MAAM,GAAG,IAAI;MAE7B,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAM7B,GAAG,CAAC8B,IAAI,CAAC,qBAAqB,CAAC;MACtD,IAAID,IAAI,EAAE;QACRZ,YAAY,CAACc,OAAO,CAAC,OAAO,EAAEF,IAAI,CAACb,KAAK,CAAC;QACzChB,GAAG,CAACgC,QAAQ,CAACb,OAAO,CAACc,aAAa,GAAG,UAAUJ,IAAI,CAACb,KAAK,EAAE;MAC7D;MACA,OAAOhB,GAAG,CAAC0B,eAAe,CAAC;IAC7B;IACA,IAAI,CAAAN,KAAK,aAALA,KAAK,wBAAAK,gBAAA,GAALL,KAAK,CAAEG,QAAQ,cAAAE,gBAAA,uBAAfA,gBAAA,CAAiBE,MAAM,MAAK,GAAG,EAAE;MACnCV,YAAY,CAACiB,UAAU,CAAC,OAAO,CAAC;MAChCjB,YAAY,CAACiB,UAAU,CAAC,WAAW,CAAC;MACpClC,GAAG,CAACgC,QAAQ,CAACb,OAAO,CAACc,aAAa,GAAGE,SAAS;MAC9C5B,SAAS,CAAC,KAAK,CAAC;IAClB;IACA,OAAOc,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;EAC9B,CACF,CAAC;EAED,MAAMgB,aAAa,GAAG1C,UAAU,CAACQ,aAAa,CAAC;EAE/CT,SAAS,CAAC,MAAM;IACd,MAAMuB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,CAAC,YAAY;MACX,IAAIF,KAAK,EAAE;QACT,IAAI;UACF,MAAM;YAAEa;UAAK,CAAC,GAAG,MAAM7B,GAAG,CAAC8B,IAAI,CAAC,qBAAqB,CAAC;UACtD9B,GAAG,CAACgC,QAAQ,CAACb,OAAO,CAACc,aAAa,GAAG,UAAUJ,IAAI,CAACb,KAAK,EAAE;UAC3DT,SAAS,CAAC,IAAI,CAAC;UACfI,OAAO,CAACkB,IAAI,CAACnB,IAAI,CAAC;QACpB,CAAC,CAAC,OAAO2B,GAAG,EAAE;UACZpC,UAAU,CAACoC,GAAG,CAAC;QACjB;MACF;MACA5B,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,EAAE,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAENhB,SAAS,CAAC,MAAM;IACd,MAAM6C,SAAS,GAAGrB,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;IACnD,IAAIoB,SAAS,EAAE;MAEb,MAAMC,MAAM,GAAGH,aAAa,CAACI,SAAS,CAACF,SAAS,CAAC;MAEjDC,MAAM,CAACE,EAAE,CAAC,WAAWH,SAAS,OAAO,EAAGT,IAAI,IAAK;QAC/C,IAAIA,IAAI,CAACa,MAAM,KAAK,QAAQ,IAAIb,IAAI,CAACnB,IAAI,CAACiC,EAAE,KAAKjC,IAAI,CAACiC,EAAE,EAAE;UACxDhC,OAAO,CAACkB,IAAI,CAACnB,IAAI,CAAC;QACpB;MACF,CAAC,CAAC;MAGJ,OAAO,MAAM;QACX6B,MAAM,CAACK,UAAU,CAAC,CAAC;MACrB,CAAC;IACH;EACA,CAAC,EAAE,CAACR,aAAa,EAAE1B,IAAI,CAAC,CAAC;EAEzB,MAAMmC,WAAW,GAAG,MAAOC,QAAQ,IAAK;IACtCrC,UAAU,CAAC,IAAI,CAAC;IAEhB,IAAI;MACF,MAAM;QAAEoB;MAAK,CAAC,GAAG,MAAM7B,GAAG,CAAC8B,IAAI,CAAC,aAAa,EAAEgB,QAAQ,CAAC;MACxD,MAAM;QACJpC,IAAI,EAAE;UAAE4B,SAAS;UAAEK,EAAE;UAAEI;QAAQ;MACjC,CAAC,GAAGlB,IAAI;MAER,IAAIjC,GAAG,CAACmD,OAAO,EAAE,UAAU,CAAC,IAAIlD,OAAO,CAACkD,OAAO,CAACC,QAAQ,CAAC,EAAE;QACzD,MAAMC,OAAO,GAAGF,OAAO,CAACC,QAAQ,CAACE,IAAI,CAClCC,CAAC,IAAKA,CAAC,CAACC,GAAG,KAAK,kBACnB,CAAC;QACD,IAAIH,OAAO,IAAIA,OAAO,CAACI,KAAK,KAAK,MAAM,EAAE;UACvCpC,YAAY,CAACc,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;QACvC;MACF;MAEA5B,MAAM,CAACmD,MAAM,CAAC,IAAI,CAAC;MACnB,MAAMC,OAAO,GAAG1B,IAAI,CAACnB,IAAI,CAACqC,OAAO,CAACQ,OAAO;MACzC,MAAMC,UAAU,GAAGrD,MAAM,CAACoD,OAAO,CAAC,CAACE,MAAM,CAAC,YAAY,CAAC;MAEvD,IAAIC,IAAI,GAAGvD,MAAM,CAACoD,OAAO,CAAC,CAACG,IAAI,CAACvD,MAAM,CAACA,MAAM,CAAC,CAAC,CAAC,CAACsD,MAAM,CAAC,CAAC,CAAC;MAE1D,IAAIE,MAAM,GAAGxD,MAAM,CAACA,MAAM,CAAC,CAAC,CAACsD,MAAM,CAAC,CAAC,CAAC,CAACG,QAAQ,CAACL,OAAO,CAAC;MACxD,IAAIM,IAAI,GAAG1D,MAAM,CAAC2D,QAAQ,CAACJ,IAAI,CAAC,CAACK,MAAM,CAAC,CAAC;MAEzC,IAAIJ,MAAM,KAAK,IAAI,EAAE;QACnB1C,YAAY,CAACc,OAAO,CAAC,OAAO,EAAEF,IAAI,CAACb,KAAK,CAAC;QACzCC,YAAY,CAACc,OAAO,CAAC,WAAW,EAAEO,SAAS,CAAC;QAC5CrB,YAAY,CAACc,OAAO,CAAC,QAAQ,EAAEY,EAAE,CAAC;QAClC1B,YAAY,CAACc,OAAO,CAAC,gBAAgB,EAAEyB,UAAU,CAAC;QAClDxD,GAAG,CAACgC,QAAQ,CAACb,OAAO,CAACc,aAAa,GAAG,UAAUJ,IAAI,CAACb,KAAK,EAAE;QAC3DL,OAAO,CAACkB,IAAI,CAACnB,IAAI,CAAC;QAClBH,SAAS,CAAC,IAAI,CAAC;QACfT,KAAK,CAACkE,OAAO,CAACjE,IAAI,CAACkE,CAAC,CAAC,qBAAqB,CAAC,CAAC;QAC5C,IAAIC,IAAI,CAACC,KAAK,CAACN,IAAI,CAAC,GAAG,CAAC,EAAE;UACxB/D,KAAK,CAACsE,IAAI,CAAC,2BAA2BF,IAAI,CAACC,KAAK,CAACN,IAAI,CAAC,IAAIK,IAAI,CAACC,KAAK,CAACN,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,GAAG,MAAM,GAAG,CAAC;QACvG;QACAxD,OAAO,CAACgE,IAAI,CAAC,UAAU,CAAC;QACxB5D,UAAU,CAAC,KAAK,CAAC;MACnB,CAAC,MAAM;QACLR,UAAU,CAAC,+BAA+BuD,UAAU;AAC5D,uDAAuD,CAAC;QAChD/C,UAAU,CAAC,KAAK,CAAC;MACnB;;MAEA;IACF,CAAC,CAAC,OAAO4B,GAAG,EAAE;MACZpC,UAAU,CAACoC,GAAG,CAAC;MACf5B,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAM6D,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B7D,UAAU,CAAC,IAAI,CAAC;IAEhB,IAAI;MACF,MAAMT,GAAG,CAACuE,MAAM,CAAC,cAAc,CAAC;MAChChE,SAAS,CAAC,KAAK,CAAC;MAChBI,OAAO,CAAC,CAAC,CAAC,CAAC;MACXM,YAAY,CAACiB,UAAU,CAAC,OAAO,CAAC;MAChCjB,YAAY,CAACiB,UAAU,CAAC,WAAW,CAAC;MACpCjB,YAAY,CAACiB,UAAU,CAAC,QAAQ,CAAC;MACjCjB,YAAY,CAACiB,UAAU,CAAC,OAAO,CAAC;MAChClC,GAAG,CAACgC,QAAQ,CAACb,OAAO,CAACc,aAAa,GAAGE,SAAS;MAC9C1B,UAAU,CAAC,KAAK,CAAC;MACjBJ,OAAO,CAACgE,IAAI,CAAC,QAAQ,CAAC;IACxB,CAAC,CAAC,OAAOhC,GAAG,EAAE;MACZpC,UAAU,CAACoC,GAAG,CAAC;MACf5B,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAM+D,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrC,IAAI;MACF,MAAM;QAAE3C;MAAK,CAAC,GAAG,MAAM7B,GAAG,CAACyE,GAAG,CAAC,UAAU,CAAC;MAC1C,OAAO5C,IAAI;IACb,CAAC,CAAC,OAAOQ,GAAG,EAAE;MACZpC,UAAU,CAACoC,GAAG,CAAC;IACjB;EACF,CAAC;EAED,OAAO;IACL/B,MAAM;IACNI,IAAI;IACJF,OAAO;IACPqC,WAAW;IACXyB,YAAY;IACZE;EACF,CAAC;AACH,CAAC;AAED,eAAepE,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}