{"ast":null,"code":"var _jsxFileName = \"C:\\\\laragon\\\\www\\\\whaticket03\\\\waticketsaas\\\\frontend\\\\src\\\\components\\\\CompaniesManager\\\\index.js\";\nimport { FormControl, Grid, IconButton, InputLabel, MenuItem, Paper, Select, Table, TableBody, TableCell, TableHead, TableRow, TextField, makeStyles } from \"@material-ui/core\";\nimport { Field, Form, Formik } from \"formik\";\nimport React, { useEffect, useState } from \"react\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { Edit as EditIcon } from \"@material-ui/icons\";\nimport { has, head, isArray } from \"lodash\";\nimport { toast } from \"react-toastify\";\nimport useCompanies from \"../../hooks/useCompanies\";\nimport { useDate } from \"../../hooks/useDate\";\nimport usePlans from \"../../hooks/usePlans\";\nimport api from \"../../services/api\";\nimport ModalUsers from \"../ModalUsers\";\nimport { i18n } from \"../../translate/i18n\";\nimport moment from \"moment\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"100%\"\n  },\n  mainPaper: {\n    width: \"100%\",\n    flex: 1,\n    padding: theme.spacing(2)\n  },\n  fullWidth: {\n    width: \"100%\"\n  },\n  tableContainer: {\n    width: \"100%\",\n    overflowX: \"scroll\",\n    ...theme.scrollbarStyles\n  },\n  textfield: {\n    width: \"100%\"\n  },\n  textRight: {\n    textAlign: \"right\"\n  },\n  row: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  control: {\n    paddingRight: theme.spacing(1),\n    paddingLeft: theme.spacing(1)\n  },\n  buttonContainer: {\n    textAlign: \"right\",\n    padding: theme.spacing(1)\n  }\n}));\nexport function CompanyForm(props) {\n  const {\n    onSubmit,\n    onDelete,\n    onCancel,\n    initialValue,\n    loading\n  } = props;\n  const classes = useStyles();\n  const [plans, setPlans] = useState([]);\n  const [modalUser, setModalUser] = useState(false);\n  const [firstUser, setFirstUser] = useState({});\n  const [record, setRecord] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    planId: \"\",\n    status: true,\n    campaignsEnabled: false,\n    dueDate: \"\",\n    recurrence: \"\",\n    ...initialValue\n  });\n  const {\n    list: listPlans\n  } = usePlans();\n  useEffect(() => {\n    async function fetchData() {\n      const list = await listPlans();\n      setPlans(list);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    setRecord(prev => {\n      if (moment(initialValue).isValid()) {\n        initialValue.dueDate = moment(initialValue.dueDate).format(\"YYYY-MM-DD\");\n      }\n      return {\n        ...prev,\n        ...initialValue\n      };\n    });\n  }, [initialValue]);\n  const handleSubmit = async data => {\n    if (data.dueDate === \"\" || moment(data.dueDate).isValid() === false) {\n      data.dueDate = null;\n    }\n    onSubmit(data);\n    setRecord({\n      ...initialValue,\n      dueDate: \"\"\n    });\n  };\n  const handleOpenModalUsers = async () => {\n    try {\n      const {\n        data\n      } = await api.get(\"/users/list\", {\n        params: {\n          companyId: initialValue.id\n        }\n      });\n      if (isArray(data) && data.length) {\n        setFirstUser(head(data));\n      }\n      setModalUser(true);\n    } catch (e) {\n      toast.error(e);\n    }\n  };\n  const handleCloseModalUsers = () => {\n    setFirstUser({});\n    setModalUser(false);\n  };\n  const incrementDueDate = () => {\n    const data = {\n      ...record\n    };\n    if (data.dueDate !== \"\" && data.dueDate !== null) {\n      switch (data.recurrence) {\n        case \"MENSAL\":\n          data.dueDate = moment(data.dueDate).add(1, \"month\").format(\"YYYY-MM-DD\");\n          break;\n        case \"BIMESTRAL\":\n          data.dueDate = moment(data.dueDate).add(2, \"month\").format(\"YYYY-MM-DD\");\n          break;\n        case \"TRIMESTRAL\":\n          data.dueDate = moment(data.dueDate).add(3, \"month\").format(\"YYYY-MM-DD\");\n          break;\n        case \"SEMESTRAL\":\n          data.dueDate = moment(data.dueDate).add(6, \"month\").format(\"YYYY-MM-DD\");\n          break;\n        case \"ANUAL\":\n          data.dueDate = moment(data.dueDate).add(12, \"month\").format(\"YYYY-MM-DD\");\n          break;\n        default:\n          break;\n      }\n    }\n    setRecord(data);\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ModalUsers, {\n    userId: firstUser.id,\n    companyId: initialValue.id,\n    open: modalUser,\n    onClose: handleCloseModalUsers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Formik, {\n    enableReinitialize: true,\n    className: classes.fullWidth,\n    initialValues: record,\n    onSubmit: (values, {\n      resetForm\n    }) => setTimeout(() => {\n      handleSubmit(values);\n      resetForm();\n    }, 500),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }\n  }, (values, setValues) => /*#__PURE__*/React.createElement(Form, {\n    className: classes.fullWidth,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    spacing: 2,\n    justifyContent: \"flex-end\",\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    sm: 6,\n    md: 4,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    as: TextField,\n    label: i18n.t(\"companies.form.name\"),\n    name: \"name\",\n    variant: \"outlined\",\n    className: classes.fullWidth,\n    margin: \"dense\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    sm: 6,\n    md: 2,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    as: TextField,\n    label: i18n.t(\"companies.form.email\"),\n    name: \"email\",\n    variant: \"outlined\",\n    className: classes.fullWidth,\n    margin: \"dense\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    sm: 6,\n    md: 2,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    as: TextField,\n    label: i18n.t(\"companies.form.phone\"),\n    name: \"phone\",\n    variant: \"outlined\",\n    className: classes.fullWidth,\n    margin: \"dense\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    sm: 6,\n    md: 2,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    margin: \"dense\",\n    variant: \"outlined\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"plan-selection\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 19\n    }\n  }, i18n.t(\"companies.form.plan\")), /*#__PURE__*/React.createElement(Field, {\n    as: Select,\n    id: \"plan-selection\",\n    label: i18n.t(\"companies.form.plan\"),\n    labelId: \"plan-selection-label\",\n    name: \"planId\",\n    margin: \"dense\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 19\n    }\n  }, plans.map((plan, key) => /*#__PURE__*/React.createElement(MenuItem, {\n    key: key,\n    value: plan.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 23\n    }\n  }, plan.name))))), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    sm: 6,\n    md: 2,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    margin: \"dense\",\n    variant: \"outlined\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"status-selection\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 19\n    }\n  }, i18n.t(\"companies.form.status\")), /*#__PURE__*/React.createElement(Field, {\n    as: Select,\n    id: \"status-selection\",\n    label: i18n.t(\"companies.form.status\"),\n    labelId: \"status-selection-label\",\n    name: \"status\",\n    margin: \"dense\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 21\n    }\n  }, i18n.t(\"companies.values.yes\")), /*#__PURE__*/React.createElement(MenuItem, {\n    value: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 21\n    }\n  }, i18n.t(\"companies.values.no\"))))), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    sm: 6,\n    md: 2,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    margin: \"dense\",\n    variant: \"outlined\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"status-selection\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 19\n    }\n  }, i18n.t(\"companies.form.campaigns\")), /*#__PURE__*/React.createElement(Field, {\n    as: Select,\n    id: \"campaigns-selection\",\n    label: i18n.t(\"companies.form.campaigns\"),\n    labelId: \"campaigns-selection-label\",\n    name: \"campaignsEnabled\",\n    margin: \"dense\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 21\n    }\n  }, i18n.t(\"companies.values.enabled\")), /*#__PURE__*/React.createElement(MenuItem, {\n    value: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 21\n    }\n  }, i18n.t(\"companies.values.disabled\"))))), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    sm: 6,\n    md: 2,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    variant: \"outlined\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    as: TextField,\n    label: i18n.t(\"companies.form.dueDate\"),\n    type: \"date\",\n    name: \"dueDate\",\n    InputLabelProps: {\n      shrink: true\n    },\n    variant: \"outlined\",\n    fullWidth: true,\n    margin: \"dense\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    sm: 6,\n    md: 2,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    margin: \"dense\",\n    variant: \"outlined\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"recorrencia-selection\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 19\n    }\n  }, i18n.t(\"companies.form.recurrence\")), /*#__PURE__*/React.createElement(Field, {\n    as: Select,\n    label: i18n.t(\"companies.form.recurrence\"),\n    labelId: \"recorrencia-selection-label\",\n    id: \"recurrence\",\n    name: \"recurrence\",\n    margin: \"dense\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"MENSAL\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 21\n    }\n  }, i18n.t(\"companies.values.monthly\"))))), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    justifyContent: \"flex-end\",\n    spacing: 1,\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    xs: 4,\n    md: 1,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(ButtonWithSpinner, {\n    className: classes.fullWidth,\n    style: {\n      marginTop: 7\n    },\n    loading: loading,\n    onClick: () => onCancel(),\n    variant: \"contained\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 21\n    }\n  }, i18n.t(\"companies.buttons.clear\"))), record.id !== undefined ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Grid, {\n    xs: 6,\n    md: 1,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(ButtonWithSpinner, {\n    style: {\n      marginTop: 7\n    },\n    className: classes.fullWidth,\n    loading: loading,\n    onClick: () => onDelete(record),\n    variant: \"contained\",\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 25\n    }\n  }, i18n.t(\"companies.buttons.delete\"))), /*#__PURE__*/React.createElement(Grid, {\n    xs: 6,\n    md: 2,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(ButtonWithSpinner, {\n    style: {\n      marginTop: 7\n    },\n    className: classes.fullWidth,\n    loading: loading,\n    onClick: () => incrementDueDate(),\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 25\n    }\n  }, i18n.t(\"companies.buttons.addDueDate\"))), /*#__PURE__*/React.createElement(Grid, {\n    xs: 6,\n    md: 1,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(ButtonWithSpinner, {\n    style: {\n      marginTop: 7\n    },\n    className: classes.fullWidth,\n    loading: loading,\n    onClick: () => handleOpenModalUsers(),\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 25\n    }\n  }, i18n.t(\"companies.buttons.user\")))) : null, /*#__PURE__*/React.createElement(Grid, {\n    xs: 6,\n    md: 1,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(ButtonWithSpinner, {\n    className: classes.fullWidth,\n    style: {\n      marginTop: 7\n    },\n    loading: loading,\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 21\n    }\n  }, i18n.t(\"companies.buttons.save\")))))))));\n}\nexport function CompaniesManagerGrid(props) {\n  const {\n    records,\n    onSelect\n  } = props;\n  const classes = useStyles();\n  const {\n    dateToClient\n  } = useDate();\n  const renderStatus = row => {\n    return row.status === false ? i18n.t(\"companies.values.no\") : i18n.t(\"companies.values.yes\");\n  };\n  const renderPlan = row => {\n    return row.planId !== null ? row.plan.name : \"-\";\n  };\n  const renderCampaignsStatus = row => {\n    if (has(row, \"settings\") && isArray(row.settings) && row.settings.length > 0) {\n      const setting = row.settings.find(s => s.key === \"campaignsEnabled\");\n      if (setting) {\n        return setting.value === \"true\" ? i18n.t(\"companies.values.enabled\") : i18n.t(\"companies.values.disabled\");\n      }\n    }\n    return i18n.t(\"companies.values.disabled\");\n  };\n  const rowStyle = record => {\n    if (moment(record.dueDate).isValid()) {\n      const now = moment();\n      const dueDate = moment(record.dueDate);\n      const diff = dueDate.diff(now, \"days\");\n      if (diff >= 1 && diff <= 5) {\n        return {\n          backgroundColor: \"#fffead\"\n        };\n      }\n      if (diff <= 0) {\n        return {\n          backgroundColor: \"#fa8c8c\"\n        };\n      }\n      // else {\n      //   return { backgroundColor: \"#affa8c\" };\n      // }\n    }\n    return {};\n  };\n  return /*#__PURE__*/React.createElement(Paper, {\n    className: classes.tableContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: classes.fullWidth,\n    size: \"small\",\n    \"aria-label\": \"a dense table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    style: {\n      width: \"1%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 13\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 13\n    }\n  }, i18n.t(\"companies.table.name\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 13\n    }\n  }, i18n.t(\"companies.table.email\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 13\n    }\n  }, i18n.t(\"companies.table.phone\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 13\n    }\n  }, i18n.t(\"companies.table.plan\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 13\n    }\n  }, i18n.t(\"companies.table.campaigns\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 13\n    }\n  }, i18n.t(\"companies.table.status\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 13\n    }\n  }, i18n.t(\"companies.table.createdAt\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 13\n    }\n  }, i18n.t(\"companies.table.dueDate\")))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 9\n    }\n  }, records.map((row, key) => /*#__PURE__*/React.createElement(TableRow, {\n    style: rowStyle(row),\n    key: key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    style: {\n      width: \"1%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    onClick: () => onSelect(row),\n    \"aria-label\": \"delete\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(EditIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 15\n    }\n  }, row.name || \"-\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 15\n    }\n  }, row.email || \"-\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 15\n    }\n  }, row.phone || \"-\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 15\n    }\n  }, renderPlan(row)), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 15\n    }\n  }, renderCampaignsStatus(row)), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 15\n    }\n  }, renderStatus(row)), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 15\n    }\n  }, dateToClient(row.createdAt)), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 15\n    }\n  }, dateToClient(row.dueDate), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 17\n    }\n  }, row.recurrence)))))));\n}\nexport default function CompaniesManager() {\n  const classes = useStyles();\n  const {\n    list,\n    save,\n    update,\n    remove\n  } = useCompanies();\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [records, setRecords] = useState([]);\n  const [record, setRecord] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    planId: \"\",\n    status: true,\n    campaignsEnabled: false,\n    dueDate: \"\",\n    recurrence: \"\"\n  });\n  useEffect(() => {\n    loadPlans();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const loadPlans = async () => {\n    setLoading(true);\n    try {\n      const companyList = await list();\n      setRecords(companyList);\n    } catch (e) {\n      toast.error(i18n.t(\"companies.messages.loadError\"));\n    }\n    setLoading(false);\n  };\n  const handleSubmit = async data => {\n    setLoading(true);\n    try {\n      if (data.id !== undefined) {\n        await update(data);\n      } else {\n        await save(data);\n      }\n      await loadPlans();\n      handleCancel();\n      toast.success(i18n.t(\"companies.messages.saveSuccess\"));\n    } catch (e) {\n      toast.error(i18n.t(\"companies.messages.saveError\"));\n    }\n    setLoading(false);\n  };\n  const handleDelete = async () => {\n    setLoading(true);\n    try {\n      await remove(record.id);\n      await loadPlans();\n      handleCancel();\n      toast.success(i18n.t(\"companies.messages.deleteSuccess\"));\n    } catch (e) {\n      toast.error(i18n.t(\"companies.messages.deleteError\"));\n    }\n    setLoading(false);\n  };\n  const handleOpenDeleteDialog = () => {\n    setShowConfirmDialog(true);\n  };\n  const handleCancel = () => {\n    setRecord(prev => ({\n      ...prev,\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      planId: \"\",\n      status: true,\n      campaignsEnabled: false,\n      dueDate: \"\",\n      recurrence: \"\"\n    }));\n  };\n  const handleSelect = data => {\n    let campaignsEnabled = false;\n    const setting = data.settings.find(s => s.key.indexOf(\"campaignsEnabled\") > -1);\n    if (setting) {\n      campaignsEnabled = setting.value === \"true\" || setting.value === \"enabled\";\n    }\n    setRecord(prev => ({\n      ...prev,\n      id: data.id,\n      name: data.name || \"\",\n      phone: data.phone || \"\",\n      email: data.email || \"\",\n      planId: data.planId || \"\",\n      status: data.status === false ? false : true,\n      campaignsEnabled,\n      dueDate: data.dueDate || \"\",\n      recurrence: data.recurrence || \"\"\n    }));\n  };\n  return /*#__PURE__*/React.createElement(Paper, {\n    className: classes.mainPaper,\n    elevation: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 601,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    spacing: 2,\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 602,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 603,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CompanyForm, {\n    initialValue: record,\n    onDelete: handleOpenDeleteDialog,\n    onSubmit: handleSubmit,\n    onCancel: handleCancel,\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 604,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 612,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CompaniesManagerGrid, {\n    records: records,\n    onSelect: handleSelect,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 613,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(ConfirmationModal, {\n    title: i18n.t(\"companies.messages.deleteTitle\"),\n    open: showConfirmDialog,\n    onClose: () => setShowConfirmDialog(false),\n    onConfirm: () => handleDelete(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 616,\n      columnNumber: 7\n    }\n  }, i18n.t(\"companies.messages.deleteMessage\")));\n}","map":{"version":3,"names":["FormControl","Grid","IconButton","InputLabel","MenuItem","Paper","Select","Table","TableBody","TableCell","TableHead","TableRow","TextField","makeStyles","Field","Form","Formik","React","useEffect","useState","ButtonWithSpinner","ConfirmationModal","Edit","EditIcon","has","head","isArray","toast","useCompanies","useDate","usePlans","api","ModalUsers","i18n","moment","useStyles","theme","root","width","mainPaper","flex","padding","spacing","fullWidth","tableContainer","overflowX","scrollbarStyles","textfield","textRight","textAlign","row","paddingTop","paddingBottom","control","paddingRight","paddingLeft","buttonContainer","CompanyForm","props","onSubmit","onDelete","onCancel","initialValue","loading","classes","plans","setPlans","modalUser","setModalUser","firstUser","setFirstUser","record","setRecord","name","email","phone","planId","status","campaignsEnabled","dueDate","recurrence","list","listPlans","fetchData","prev","isValid","format","handleSubmit","data","handleOpenModalUsers","get","params","companyId","id","length","e","error","handleCloseModalUsers","incrementDueDate","add","createElement","Fragment","userId","open","onClose","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","enableReinitialize","className","initialValues","values","resetForm","setTimeout","setValues","justifyContent","container","xs","sm","md","item","as","label","t","variant","margin","required","htmlFor","labelId","map","plan","key","value","type","InputLabelProps","shrink","style","marginTop","onClick","undefined","color","CompaniesManagerGrid","records","onSelect","dateToClient","renderStatus","renderPlan","renderCampaignsStatus","settings","setting","find","s","rowStyle","now","diff","backgroundColor","size","align","createdAt","CompaniesManager","save","update","remove","showConfirmDialog","setShowConfirmDialog","setLoading","setRecords","loadPlans","companyList","handleCancel","success","handleDelete","handleOpenDeleteDialog","handleSelect","indexOf","elevation","title","onConfirm"],"sources":["C:/laragon/www/whaticket03/waticketsaas/frontend/src/components/CompaniesManager/index.js"],"sourcesContent":["import {\n  FormControl,\n  Grid,\n  IconButton,\n  InputLabel,\n  MenuItem,\n  Paper,\n  Select,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TextField,\n  makeStyles,\n} from \"@material-ui/core\";\nimport { Field, Form, Formik } from \"formik\";\nimport React, { useEffect, useState } from \"react\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { has, head, isArray } from \"lodash\";\nimport { toast } from \"react-toastify\";\nimport useCompanies from \"../../hooks/useCompanies\";\nimport { useDate } from \"../../hooks/useDate\";\nimport usePlans from \"../../hooks/usePlans\";\nimport api from \"../../services/api\";\nimport ModalUsers from \"../ModalUsers\";\nimport { i18n } from \"../../translate/i18n\";\n\nimport moment from \"moment\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  mainPaper: {\n    width: \"100%\",\n    flex: 1,\n    padding: theme.spacing(2),\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  tableContainer: {\n    width: \"100%\",\n    overflowX: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  textfield: {\n    width: \"100%\",\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  row: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n  },\n  control: {\n    paddingRight: theme.spacing(1),\n    paddingLeft: theme.spacing(1),\n  },\n  buttonContainer: {\n    textAlign: \"right\",\n    padding: theme.spacing(1),\n  },\n}));\n\nexport function CompanyForm(props) {\n  const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n  const classes = useStyles();\n  const [plans, setPlans] = useState([]);\n  const [modalUser, setModalUser] = useState(false);\n  const [firstUser, setFirstUser] = useState({});\n\n  const [record, setRecord] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    planId: \"\",\n    status: true,\n    campaignsEnabled: false,\n    dueDate: \"\",\n    recurrence: \"\",\n    ...initialValue,\n  });\n\n  const { list: listPlans } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const list = await listPlans();\n      setPlans(list);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    setRecord((prev) => {\n      if (moment(initialValue).isValid()) {\n        initialValue.dueDate = moment(initialValue.dueDate).format(\n          \"YYYY-MM-DD\"\n        );\n      }\n      return {\n        ...prev,\n        ...initialValue,\n      };\n    });\n  }, [initialValue]);\n\n  const handleSubmit = async (data) => {\n    if (data.dueDate === \"\" || moment(data.dueDate).isValid() === false) {\n      data.dueDate = null;\n    }\n    onSubmit(data);\n    setRecord({ ...initialValue, dueDate: \"\" });\n  };\n\n  const handleOpenModalUsers = async () => {\n    try {\n      const { data } = await api.get(\"/users/list\", {\n        params: {\n          companyId: initialValue.id,\n        },\n      });\n      if (isArray(data) && data.length) {\n        setFirstUser(head(data));\n      }\n      setModalUser(true);\n    } catch (e) {\n      toast.error(e);\n    }\n  };\n\n  const handleCloseModalUsers = () => {\n    setFirstUser({});\n    setModalUser(false);\n  };\n\n  const incrementDueDate = () => {\n    const data = { ...record };\n    if (data.dueDate !== \"\" && data.dueDate !== null) {\n      switch (data.recurrence) {\n        case \"MENSAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(1, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"BIMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(2, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"TRIMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(3, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"SEMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(6, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"ANUAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(12, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        default:\n          break;\n      }\n    }\n    setRecord(data);\n  };\n\n  return (\n    <>\n      <ModalUsers\n        userId={firstUser.id}\n        companyId={initialValue.id}\n        open={modalUser}\n        onClose={handleCloseModalUsers}\n      />\n      <Formik\n        enableReinitialize\n        className={classes.fullWidth}\n        initialValues={record}\n        onSubmit={(values, { resetForm }) =>\n          setTimeout(() => {\n            handleSubmit(values);\n            resetForm();\n          }, 500)\n        }\n      >\n        {(values, setValues) => (\n          <Form className={classes.fullWidth}>\n            <Grid spacing={2} justifyContent=\"flex-end\" container>\n              <Grid xs={12} sm={6} md={4} item>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"companies.form.name\")}\n                  name=\"name\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"companies.form.email\")}\n                  name=\"email\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                  required\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"companies.form.phone\")}\n                  name=\"phone\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"plan-selection\">{i18n.t(\"companies.form.plan\")}</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"plan-selection\"\n                    label={i18n.t(\"companies.form.plan\")}\n                    labelId=\"plan-selection-label\"\n                    name=\"planId\"\n                    margin=\"dense\"\n                    required\n                  >\n                    {plans.map((plan, key) => (\n                      <MenuItem key={key} value={plan.id}>\n                        {plan.name}\n                      </MenuItem>\n                    ))}\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"status-selection\">{i18n.t(\"companies.form.status\")}</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"status-selection\"\n                    label={i18n.t(\"companies.form.status\")}\n                    labelId=\"status-selection-label\"\n                    name=\"status\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value={true}>{i18n.t(\"companies.values.yes\")}</MenuItem>\n                    <MenuItem value={false}>{i18n.t(\"companies.values.no\")}</MenuItem>\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"status-selection\">{i18n.t(\"companies.form.campaigns\")}</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"campaigns-selection\"\n                    label={i18n.t(\"companies.form.campaigns\")}\n                    labelId=\"campaigns-selection-label\"\n                    name=\"campaignsEnabled\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value={true}>{i18n.t(\"companies.values.enabled\")}</MenuItem>\n                    <MenuItem value={false}>{i18n.t(\"companies.values.disabled\")}</MenuItem>\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl variant=\"outlined\" fullWidth>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"companies.form.dueDate\")}\n                    type=\"date\"\n                    name=\"dueDate\"\n                    InputLabelProps={{\n                      shrink: true,\n                    }}\n                    variant=\"outlined\"\n                    fullWidth\n                    margin=\"dense\"\n                  />\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"recorrencia-selection\">\n                    {i18n.t(\"companies.form.recurrence\")}\n                  </InputLabel>\n                  <Field\n                    as={Select}\n                    label={i18n.t(\"companies.form.recurrence\")}\n                    labelId=\"recorrencia-selection-label\"\n                    id=\"recurrence\"\n                    name=\"recurrence\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value=\"MENSAL\">{i18n.t(\"companies.values.monthly\")}</MenuItem>\n                    {/*<MenuItem value=\"BIMESTRAL\">Bimestral</MenuItem>*/}\n                    {/*<MenuItem value=\"TRIMESTRAL\">Trimestral</MenuItem>*/}\n                    {/*<MenuItem value=\"SEMESTRAL\">Semestral</MenuItem>*/}\n                    {/*<MenuItem value=\"ANUAL\">Anual</MenuItem>*/}\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} item>\n                <Grid justifyContent=\"flex-end\" spacing={1} container>\n                  <Grid xs={4} md={1} item>\n                    <ButtonWithSpinner\n                      className={classes.fullWidth}\n                      style={{ marginTop: 7 }}\n                      loading={loading}\n                      onClick={() => onCancel()}\n                      variant=\"contained\"\n                    >\n                      {i18n.t(\"companies.buttons.clear\")}\n                    </ButtonWithSpinner>\n                  </Grid>\n                  {record.id !== undefined ? (\n                    <>\n                      <Grid xs={6} md={1} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => onDelete(record)}\n                          variant=\"contained\"\n                          color=\"secondary\"\n                        >\n                          {i18n.t(\"companies.buttons.delete\")}\n                        </ButtonWithSpinner>\n                      </Grid>\n                      <Grid xs={6} md={2} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => incrementDueDate()}\n                          variant=\"contained\"\n                          color=\"primary\"\n                        >\n                          {i18n.t(\"companies.buttons.addDueDate\")}\n                        </ButtonWithSpinner>\n                      </Grid>\n                      <Grid xs={6} md={1} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => handleOpenModalUsers()}\n                          variant=\"contained\"\n                          color=\"primary\"\n                        >\n                          {i18n.t(\"companies.buttons.user\")}\n                        </ButtonWithSpinner>\n                      </Grid>\n                    </>\n                  ) : null}\n                  <Grid xs={6} md={1} item>\n                    <ButtonWithSpinner\n                      className={classes.fullWidth}\n                      style={{ marginTop: 7 }}\n                      loading={loading}\n                      type=\"submit\"\n                      variant=\"contained\"\n                      color=\"primary\"\n                    >\n                      {i18n.t(\"companies.buttons.save\")}\n                    </ButtonWithSpinner>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    </>\n  );\n}\n\nexport function CompaniesManagerGrid(props) {\n  const { records, onSelect } = props;\n  const classes = useStyles();\n  const { dateToClient } = useDate();\n\n  const renderStatus = (row) => {\n    return row.status === false ? i18n.t(\"companies.values.no\") : i18n.t(\"companies.values.yes\");\n  };\n\n  const renderPlan = (row) => {\n    return row.planId !== null ? row.plan.name : \"-\";\n  };\n\n  const renderCampaignsStatus = (row) => {\n    if (\n      has(row, \"settings\") &&\n      isArray(row.settings) &&\n      row.settings.length > 0\n    ) {\n      const setting = row.settings.find((s) => s.key === \"campaignsEnabled\");\n      if (setting) {\n        return setting.value === \"true\" ? i18n.t(\"companies.values.enabled\") : i18n.t(\"companies.values.disabled\");\n      }\n    }\n    return i18n.t(\"companies.values.disabled\");\n  };\n\n  const rowStyle = (record) => {\n    if (moment(record.dueDate).isValid()) {\n      const now = moment();\n      const dueDate = moment(record.dueDate);\n      const diff = dueDate.diff(now, \"days\");\n      if (diff >= 1 && diff <= 5) {\n        return { backgroundColor: \"#fffead\" };\n      }\n      if (diff <= 0) {\n        return { backgroundColor: \"#fa8c8c\" };\n      }\n      // else {\n      //   return { backgroundColor: \"#affa8c\" };\n      // }\n    }\n    return {};\n  };\n\n  return (\n    <Paper className={classes.tableContainer}>\n      <Table\n        className={classes.fullWidth}\n        size=\"small\"\n        aria-label=\"a dense table\"\n      >\n        <TableHead>\n          <TableRow>\n            <TableCell align=\"center\" style={{ width: \"1%\" }}>\n              #\n            </TableCell>\n            <TableCell align=\"left\">{i18n.t(\"companies.table.name\")}</TableCell>\n            <TableCell align=\"left\">{i18n.t(\"companies.table.email\")}</TableCell>\n            <TableCell align=\"left\">{i18n.t(\"companies.table.phone\")}</TableCell>\n            <TableCell align=\"left\">{i18n.t(\"companies.table.plan\")}</TableCell>\n            <TableCell align=\"left\">{i18n.t(\"companies.table.campaigns\")}</TableCell>\n            <TableCell align=\"left\">{i18n.t(\"companies.table.status\")}</TableCell>\n            <TableCell align=\"left\">{i18n.t(\"companies.table.createdAt\")}</TableCell>\n            <TableCell align=\"left\">{i18n.t(\"companies.table.dueDate\")}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {records.map((row, key) => (\n            <TableRow style={rowStyle(row)} key={key}>\n              <TableCell align=\"center\" style={{ width: \"1%\" }}>\n                <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                  <EditIcon />\n                </IconButton>\n              </TableCell>\n              <TableCell align=\"left\">{row.name || \"-\"}</TableCell>\n              <TableCell align=\"left\">{row.email || \"-\"}</TableCell>\n              <TableCell align=\"left\">{row.phone || \"-\"}</TableCell>\n              <TableCell align=\"left\">{renderPlan(row)}</TableCell>\n              <TableCell align=\"left\">{renderCampaignsStatus(row)}</TableCell>\n              <TableCell align=\"left\">{renderStatus(row)}</TableCell>\n              <TableCell align=\"left\">{dateToClient(row.createdAt)}</TableCell>\n              <TableCell align=\"left\">\n                {dateToClient(row.dueDate)}\n                <br />\n                <span>{row.recurrence}</span>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </Paper>\n  );\n}\n\nexport default function CompaniesManager() {\n  const classes = useStyles();\n  const { list, save, update, remove } = useCompanies();\n\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [records, setRecords] = useState([]);\n  const [record, setRecord] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    planId: \"\",\n    status: true,\n    campaignsEnabled: false,\n    dueDate: \"\",\n    recurrence: \"\",\n  });\n\n  useEffect(() => {\n    loadPlans();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const loadPlans = async () => {\n    setLoading(true);\n    try {\n      const companyList = await list();\n      setRecords(companyList);\n    } catch (e) {\n      toast.error(i18n.t(\"companies.messages.loadError\"));\n    }\n    setLoading(false);\n  };\n\n  const handleSubmit = async (data) => {\n    setLoading(true);\n    try {\n      if (data.id !== undefined) {\n        await update(data);\n      } else {\n        await save(data);\n      }\n      await loadPlans();\n      handleCancel();\n      toast.success(i18n.t(\"companies.messages.saveSuccess\"));\n    } catch (e) {\n      toast.error(i18n.t(\"companies.messages.saveError\"));\n    }\n    setLoading(false);\n  };\n\n  const handleDelete = async () => {\n    setLoading(true);\n    try {\n      await remove(record.id);\n      await loadPlans();\n      handleCancel();\n      toast.success(i18n.t(\"companies.messages.deleteSuccess\"));\n    } catch (e) {\n      toast.error(i18n.t(\"companies.messages.deleteError\"));\n    }\n    setLoading(false);\n  };\n\n  const handleOpenDeleteDialog = () => {\n    setShowConfirmDialog(true);\n  };\n\n  const handleCancel = () => {\n    setRecord((prev) => ({\n      ...prev,\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      planId: \"\",\n      status: true,\n      campaignsEnabled: false,\n      dueDate: \"\",\n      recurrence: \"\",\n    }));\n  };\n\n  const handleSelect = (data) => {\n    let campaignsEnabled = false;\n\n    const setting = data.settings.find(\n      (s) => s.key.indexOf(\"campaignsEnabled\") > -1\n    );\n    if (setting) {\n      campaignsEnabled =\n        setting.value === \"true\" || setting.value === \"enabled\";\n    }\n\n    setRecord((prev) => ({\n      ...prev,\n      id: data.id,\n      name: data.name || \"\",\n      phone: data.phone || \"\",\n      email: data.email || \"\",\n      planId: data.planId || \"\",\n      status: data.status === false ? false : true,\n      campaignsEnabled,\n      dueDate: data.dueDate || \"\",\n      recurrence: data.recurrence || \"\",\n    }));\n  };\n\n  return (\n    <Paper className={classes.mainPaper} elevation={0}>\n      <Grid spacing={2} container>\n        <Grid xs={12} item>\n          <CompanyForm\n            initialValue={record}\n            onDelete={handleOpenDeleteDialog}\n            onSubmit={handleSubmit}\n            onCancel={handleCancel}\n            loading={loading}\n          />\n        </Grid>\n        <Grid xs={12} item>\n          <CompaniesManagerGrid records={records} onSelect={handleSelect} />\n        </Grid>\n      </Grid>\n      <ConfirmationModal\n        title={i18n.t(\"companies.messages.deleteTitle\")}\n        open={showConfirmDialog}\n        onClose={() => setShowConfirmDialog(false)}\n        onConfirm={() => handleDelete()}\n      >\n        {i18n.t(\"companies.messages.deleteMessage\")}\n      </ConfirmationModal>\n    </Paper>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}