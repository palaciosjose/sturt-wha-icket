{"ast":null,"code":"var _jsxFileName = \"C:\\\\laragon\\\\www\\\\whaticket03\\\\waticketsaas\\\\frontend\\\\src\\\\components\\\\TicketsManagerTabs\\\\index.js\";\nimport React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Badge from \"@material-ui/core/Badge\";\nimport MoveToInboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\nimport api from \"../../services/api\";\nimport PlaylistAddCheckOutlinedIcon from '@material-ui/icons/PlaylistAddCheckOutlined';\nimport { Add as AddIcon } from \"@material-ui/icons\";\nimport NewTicketModal from \"../NewTicketModal\";\nimport TicketsList from \"../TicketsListCustom\";\nimport TabPanel from \"../TabPanel\";\nimport TransferTicketModalCustom from \"../TransferTicketModalCustom\";\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport TicketsQueueSelect from \"../TicketsQueueSelect\";\nimport { Button, Snackbar } from \"@material-ui/core\";\nimport { TagsFilter } from \"../TagsFilter\";\nimport { UsersFilter } from \"../UsersFilter\";\nconst useStyles = makeStyles(theme => ({\n  ticketsWrapper: {\n    position: \"relative\",\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    borderRadius: 0\n  },\n  tabsHeader: {\n    flex: \"none\",\n    backgroundColor: theme.palette.tabHeaderBackground\n  },\n  tabsInternal: {\n    flex: \"none\",\n    backgroundColor: theme.palette.tabHeaderBackground\n  },\n  settingsIcon: {\n    alignSelf: \"center\",\n    marginLeft: \"auto\",\n    padding: 8\n  },\n  snackbar: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    backgroundColor: \"#1e3a8a\",\n    color: \"white\",\n    borderRadius: 30,\n    [theme.breakpoints.down(\"sm\")]: {\n      fontSize: \"0.8em\"\n    },\n    [theme.breakpoints.up(\"md\")]: {\n      fontSize: \"1em\"\n    }\n  },\n  yesButton: {\n    backgroundColor: \"#FFF\",\n    color: \"#10b981\",\n    padding: \"4px 4px\",\n    fontSize: \"1em\",\n    fontWeight: \"bold\",\n    textTransform: \"uppercase\",\n    marginRight: theme.spacing(1),\n    \"&:hover\": {\n      backgroundColor: \"#10b981\",\n      color: \"#FFF\"\n    },\n    borderRadius: 30\n  },\n  noButton: {\n    backgroundColor: \"#FFF\",\n    color: \"#ef4444\",\n    padding: \"4px 4px\",\n    fontSize: \"1em\",\n    fontWeight: \"bold\",\n    textTransform: \"uppercase\",\n    \"&:hover\": {\n      backgroundColor: \"#ef4444\",\n      color: \"#FFF\"\n    },\n    borderRadius: 30\n  },\n  tab: {\n    minWidth: 120,\n    width: 120\n  },\n  internalTab: {\n    minWidth: 120,\n    width: 120,\n    padding: 5\n  },\n  ticketOptionsBox: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    background: theme.palette.optionsBackground,\n    padding: theme.spacing(1)\n  },\n  ticketSearchLine: {\n    padding: theme.spacing(1)\n  },\n  serachInputWrapper: {\n    flex: 1,\n    background: theme.palette.total,\n    display: \"flex\",\n    borderRadius: 40,\n    padding: 4,\n    marginRight: theme.spacing(1)\n  },\n  searchIcon: {\n    color: \"grey\",\n    marginLeft: 6,\n    marginRight: 6,\n    alignSelf: \"center\"\n  },\n  searchInput: {\n    flex: 1,\n    border: \"none\",\n    borderRadius: 30\n  },\n  insiderTabPanel: {\n    height: '100%',\n    marginTop: \"-72px\",\n    paddingTop: \"72px\"\n  },\n  insiderDoubleTabPanel: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: \"-72px\",\n    paddingTop: \"72px\",\n    height: \"100%\"\n  },\n  labelContainer: {\n    width: \"auto\",\n    padding: 0\n  },\n  iconLabelWrapper: {\n    flexDirection: \"row\",\n    '& > *:first-child': {\n      marginBottom: '3px !important',\n      marginRight: 16\n    }\n  },\n  insiderTabLabel: {\n    [theme.breakpoints.down(1600)]: {\n      display: 'none'\n    }\n  },\n  smallFormControl: {\n    '& .MuiOutlinedInput-input': {\n      padding: \"12px 10px\"\n    },\n    '& .MuiInputLabel-outlined': {\n      marginTop: \"-6px\"\n    }\n  }\n}));\nconst TicketsManagerTabs = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tab, setTab] = useState(\"open\");\n  const [tabOpen, setTabOpen] = useState(\"open\");\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\n  const searchInputRef = useRef();\n  const {\n    user\n  } = useContext(AuthContext);\n  const {\n    profile\n  } = user;\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n  const [openCount, setOpenCount] = useState(0);\n  const [pendingCount, setPendingCount] = useState(0);\n  const userQueueIds = user.queues.map(q => q.id);\n  const [selectedQueueIds, setSelectedQueueIds] = useState(userQueueIds || []);\n  const [selectedTags, setSelectedTags] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  useEffect(() => {\n    if (tab === \"search\") {\n      searchInputRef.current.focus();\n    }\n  }, [tab]);\n  let searchTimeout;\n  const handleSearch = e => {\n    const searchedTerm = e.target.value.toLowerCase();\n    clearTimeout(searchTimeout);\n    if (searchedTerm === \"\") {\n      setSearchParam(searchedTerm);\n      setTab(\"open\");\n      return;\n    }\n    searchTimeout = setTimeout(() => {\n      setSearchParam(searchedTerm);\n    }, 500);\n  };\n  const handleChangeTab = (e, newValue) => {\n    setTab(newValue);\n  };\n  const handleChangeTabOpen = (e, newValue) => {\n    setTabOpen(newValue);\n  };\n  const applyPanelStyle = status => {\n    if (tabOpen !== status) {\n      return {\n        width: 0,\n        height: 0\n      };\n    }\n  };\n  const handleCloseOrOpenTicket = ticket => {\n    setNewTicketModalOpen(false);\n    if (ticket !== undefined && ticket.uuid !== undefined) {\n      history.push(`/tickets/${ticket.uuid}`);\n    }\n  };\n  const handleSelectedTags = selecteds => {\n    const tags = selecteds.map(t => t.id);\n    setSelectedTags(tags);\n  };\n  const handleSelectedUsers = selecteds => {\n    const users = selecteds.map(t => t.id);\n    setSelectedUsers(users);\n  };\n  const CloseAllTicket = async () => {\n    try {\n      await api.post(\"/tickets/closeAll\", {\n        status: tabOpen,\n        selectedQueueIds\n      });\n      handleSnackbarClose();\n    } catch (err) {\n      console.log(\"Error: \", err);\n    }\n  };\n  const handleSnackbarOpen = () => {\n    setSnackbarOpen(true);\n  };\n  const handleSnackbarClose = () => {\n    setSnackbarOpen(false);\n  };\n  const handleOpenTransferModal = () => {\n    setTransferTicketModalOpen(true);\n  };\n  const handleCloseTransferModal = () => {\n    setTransferTicketModalOpen(false);\n  };\n  return /*#__PURE__*/React.createElement(Paper, {\n    elevation: 0,\n    variant: \"outlined\",\n    className: classes.ticketsWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(NewTicketModal, {\n    modalOpen: newTicketModalOpen,\n    onClose: ticket => {\n      handleCloseOrOpenTicket(ticket);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Paper, {\n    elevation: 0,\n    square: true,\n    className: classes.tabsHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    value: tab,\n    onChange: handleChangeTab,\n    variant: \"fullWidth\",\n    indicatorColor: \"primary\",\n    textColor: \"primary\",\n    \"aria-label\": \"icon label tabs example\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Tab, {\n    value: \"open\",\n    icon: /*#__PURE__*/React.createElement(MoveToInboxIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 19\n      }\n    }),\n    label: i18n.t(\"tickets.tabs.open.title\"),\n    classes: {\n      root: classes.tab\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Tab, {\n    value: \"closed\",\n    icon: /*#__PURE__*/React.createElement(CheckBoxIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 19\n      }\n    }),\n    label: i18n.t(\"tickets.tabs.closed.title\"),\n    classes: {\n      root: classes.tab\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Tab, {\n    value: \"search\",\n    icon: /*#__PURE__*/React.createElement(SearchIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 19\n      }\n    }),\n    label: i18n.t(\"tickets.tabs.search.title\"),\n    classes: {\n      root: classes.tab\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Paper, {\n    square: true,\n    elevation: 0,\n    className: classes.ticketOptionsBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 7\n    }\n  }, tab === \"search\" ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.serachInputWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(SearchIcon, {\n    className: classes.searchIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(InputBase, {\n    className: classes.searchInput,\n    inputRef: searchInputRef,\n    placeholder: i18n.t(\"tickets.search.placeholder\"),\n    type: \"search\",\n    onChange: handleSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 13\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Snackbar, {\n    open: snackbarOpen,\n    onClose: handleSnackbarClose,\n    message: i18n.t(\"tickets.inbox.closedAllTickets\"),\n    ContentProps: {\n      className: classes.snackbar\n    },\n    action: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      className: classes.yesButton,\n      size: \"small\",\n      onClick: CloseAllTicket,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 19\n      }\n    }, i18n.t(\"tickets.inbox.yes\")), /*#__PURE__*/React.createElement(Button, {\n      className: classes.noButton,\n      size: \"small\",\n      onClick: handleSnackbarClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 19\n      }\n    }, i18n.t(\"tickets.inbox.no\"))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    startIcon: /*#__PURE__*/React.createElement(AddIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 26\n      }\n    }),\n    onClick: handleOpenTransferModal,\n    style: {\n      marginRight: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 13\n    }\n  }, \"Asignar Ticket\"), user.profile === \"admin\" && /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    startIcon: /*#__PURE__*/React.createElement(PlaylistAddCheckOutlinedIcon, {\n      style: {\n        color: \"white\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 28\n      }\n    }),\n    onClick: handleSnackbarOpen,\n    style: {\n      marginRight: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 15\n    }\n  }, \"Cerrar tickets\")), /*#__PURE__*/React.createElement(TicketsQueueSelect, {\n    style: {\n      marginLeft: 6\n    },\n    selectedQueueIds: selectedQueueIds,\n    userQueues: user === null || user === void 0 ? void 0 : user.queues,\n    onChange: values => setSelectedQueueIds(values),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(TabPanel, {\n    value: tab,\n    name: \"open\",\n    className: classes.ticketsWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    value: tabOpen,\n    onChange: handleChangeTabOpen,\n    indicatorColor: \"primary\",\n    textColor: \"primary\",\n    variant: \"fullWidth\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Tab, {\n    label: /*#__PURE__*/React.createElement(Badge, {\n      className: classes.badge,\n      badgeContent: openCount,\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 15\n      }\n    }, i18n.t(\"ticketsList.assignedHeader\")),\n    value: \"open\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Tab, {\n    label: /*#__PURE__*/React.createElement(Badge, {\n      className: classes.badge,\n      badgeContent: pendingCount,\n      color: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 15\n      }\n    }, i18n.t(\"ticketsList.pendingHeader\")),\n    value: \"pending\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Paper, {\n    className: classes.ticketsWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TicketsList, {\n    status: \"open\",\n    showAll: true,\n    selectedQueueIds: selectedQueueIds,\n    updateCount: val => setOpenCount(val),\n    style: applyPanelStyle(\"open\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TicketsList, {\n    status: \"pending\",\n    selectedQueueIds: selectedQueueIds,\n    updateCount: val => setPendingCount(val),\n    style: applyPanelStyle(\"pending\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(TabPanel, {\n    value: tab,\n    name: \"closed\",\n    className: classes.ticketsWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TicketsList, {\n    status: \"closed\",\n    showAll: true,\n    selectedQueueIds: selectedQueueIds,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(TabPanel, {\n    value: tab,\n    name: \"search\",\n    className: classes.ticketsWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TagsFilter, {\n    onFiltered: handleSelectedTags,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 9\n    }\n  }), profile === \"admin\" && /*#__PURE__*/React.createElement(UsersFilter, {\n    onFiltered: handleSelectedUsers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TicketsList, {\n    searchParam: searchParam,\n    showAll: true,\n    tags: selectedTags,\n    users: selectedUsers,\n    selectedQueueIds: selectedQueueIds,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(TransferTicketModalCustom, {\n    modalOpen: transferTicketModalOpen,\n    onClose: handleCloseTransferModal,\n    ticketid: null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 7\n    }\n  }));\n};\nexport default TicketsManagerTabs;","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","useHistory","makeStyles","Paper","SearchIcon","InputBase","Tabs","Tab","Badge","MoveToInboxIcon","CheckBoxIcon","api","PlaylistAddCheckOutlinedIcon","Add","AddIcon","NewTicketModal","TicketsList","TabPanel","TransferTicketModalCustom","i18n","AuthContext","TicketsQueueSelect","Button","Snackbar","TagsFilter","UsersFilter","useStyles","theme","ticketsWrapper","position","display","height","flexDirection","overflow","borderTopRightRadius","borderBottomRightRadius","borderRadius","tabsHeader","flex","backgroundColor","palette","tabHeaderBackground","tabsInternal","settingsIcon","alignSelf","marginLeft","padding","snackbar","justifyContent","color","breakpoints","down","fontSize","up","yesButton","fontWeight","textTransform","marginRight","spacing","noButton","tab","minWidth","width","internalTab","ticketOptionsBox","alignItems","background","optionsBackground","ticketSearchLine","serachInputWrapper","total","searchIcon","searchInput","border","insiderTabPanel","marginTop","paddingTop","insiderDoubleTabPanel","labelContainer","iconLabelWrapper","marginBottom","insiderTabLabel","smallFormControl","TicketsManagerTabs","classes","history","searchParam","setSearchParam","setTab","tabOpen","setTabOpen","newTicketModalOpen","setNewTicketModalOpen","transferTicketModalOpen","setTransferTicketModalOpen","searchInputRef","user","profile","snackbarOpen","setSnackbarOpen","openCount","setOpenCount","pendingCount","setPendingCount","userQueueIds","queues","map","q","id","selectedQueueIds","setSelectedQueueIds","selectedTags","setSelectedTags","selectedUsers","setSelectedUsers","current","focus","searchTimeout","handleSearch","e","searchedTerm","target","value","toLowerCase","clearTimeout","setTimeout","handleChangeTab","newValue","handleChangeTabOpen","applyPanelStyle","status","handleCloseOrOpenTicket","ticket","undefined","uuid","push","handleSelectedTags","selecteds","tags","t","handleSelectedUsers","users","CloseAllTicket","post","handleSnackbarClose","err","console","log","handleSnackbarOpen","handleOpenTransferModal","handleCloseTransferModal","createElement","elevation","variant","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","modalOpen","onClose","square","onChange","indicatorColor","textColor","icon","label","root","inputRef","placeholder","type","Fragment","open","message","ContentProps","action","size","onClick","startIcon","style","userQueues","values","name","badge","badgeContent","showAll","updateCount","val","onFiltered","ticketid"],"sources":["C:/laragon/www/whaticket03/waticketsaas/frontend/src/components/TicketsManagerTabs/index.js"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Badge from \"@material-ui/core/Badge\";\nimport MoveToInboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\nimport api from \"../../services/api\";\n\n\nimport PlaylistAddCheckOutlinedIcon from '@material-ui/icons/PlaylistAddCheckOutlined';\n\n\nimport {\n  Add as AddIcon,\n} from \"@material-ui/icons\";\n\nimport NewTicketModal from \"../NewTicketModal\";\nimport TicketsList from \"../TicketsListCustom\";\nimport TabPanel from \"../TabPanel\";\nimport TransferTicketModalCustom from \"../TransferTicketModalCustom\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport TicketsQueueSelect from \"../TicketsQueueSelect\";\nimport { Button, Snackbar } from \"@material-ui/core\";\nimport { TagsFilter } from \"../TagsFilter\";\nimport { UsersFilter } from \"../UsersFilter\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketsWrapper: {\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t\toverflow: \"hidden\",\n\t\tborderTopRightRadius: 0,\n\t\tborderBottomRightRadius: 0,\n\t\tborderRadius:0,\n\t},\n\n\n\ttabsHeader: {\n\t\tflex: \"none\",\n\t\tbackgroundColor: theme.palette.tabHeaderBackground,\n\t},\n\n\ttabsInternal: {\n\t\tflex: \"none\",\n\t\tbackgroundColor: theme.palette.tabHeaderBackground\n\t},\n\n\tsettingsIcon: {\n\t\talignSelf: \"center\",\n\t\tmarginLeft: \"auto\",\n\t\tpadding: 8,\n\t},\n  snackbar: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    backgroundColor: \"#1e3a8a\",\n    color: \"white\",\n    borderRadius: 30,\n    [theme.breakpoints.down(\"sm\")]: {\n      fontSize: \"0.8em\",\n    },\n    [theme.breakpoints.up(\"md\")]: {\n      fontSize: \"1em\",\n    },\n  },\n\n  yesButton: {\n    backgroundColor: \"#FFF\",\n    color: \"#10b981\",\n    padding: \"4px 4px\",\n    fontSize: \"1em\",\n    fontWeight: \"bold\",\n    textTransform: \"uppercase\",\n    marginRight: theme.spacing(1),\n    \"&:hover\": {\n      backgroundColor: \"#10b981\",\n      color: \"#FFF\",\n    },\n    borderRadius: 30,\n  },\n  noButton: {\n    backgroundColor: \"#FFF\",\n    color: \"#ef4444\",\n    padding: \"4px 4px\",\n    fontSize: \"1em\",\n    fontWeight: \"bold\",\n    textTransform: \"uppercase\",\n    \"&:hover\": {\n      backgroundColor: \"#ef4444\",\n      color: \"#FFF\",\n    },\n    borderRadius: 30,\n  },\n\n\ttab: {\n\t\tminWidth: 120,\n\t\twidth: 120,\n\t},\n\n\tinternalTab: {\n\t\tminWidth: 120,\n\t\twidth: 120,\n\t\tpadding: 5\n\t},\n\n\tticketOptionsBox: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t\tbackground: theme.palette.optionsBackground,\n\t\tpadding: theme.spacing(1),\n\t},\n\n\tticketSearchLine: {\n\t\tpadding: theme.spacing(1),\n\t},\n\n\tserachInputWrapper: {\n\t\tflex: 1,\n\t\tbackground: theme.palette.total,\n\t\tdisplay: \"flex\",\n\t\tborderRadius: 40,\n\t\tpadding: 4,\n\t\tmarginRight: theme.spacing(1),\n\t},\n\n\tsearchIcon: {\n\t\tcolor: \"grey\",\n\t\tmarginLeft: 6,\n\t\tmarginRight: 6,\n\t\talignSelf: \"center\",\n\t},\n\n\tsearchInput: {\n\t\tflex: 1,\n\t\tborder: \"none\",\n\t\tborderRadius: 30,\n\t},\n\n\tinsiderTabPanel: {\n\t\theight: '100%',\n\t\tmarginTop: \"-72px\",\n\t\tpaddingTop: \"72px\"\n\t},\n\n\tinsiderDoubleTabPanel: {\n\t\tdisplay:\"flex\",\n\t\tflexDirection: \"column\",\n\t\tmarginTop: \"-72px\",\n\t\tpaddingTop: \"72px\",\n\t\theight: \"100%\"\n\t},\n\n\tlabelContainer: {\n\t\twidth: \"auto\",\n\t\tpadding: 0\n\t},\n\ticonLabelWrapper: {\n\t\tflexDirection: \"row\",\n\t\t'& > *:first-child': {\n\t\t\tmarginBottom: '3px !important',\n\t\t\tmarginRight: 16\n\t\t}\n\t},\n\tinsiderTabLabel: {\n\t\t[theme.breakpoints.down(1600)]: {\n\t\t\tdisplay:'none'\n\t\t}\n\t},\n\tsmallFormControl: {\n\t\t'& .MuiOutlinedInput-input': {\n\t\t\tpadding: \"12px 10px\",\n\t\t},\n\t\t'& .MuiInputLabel-outlined': {\n\t\t\tmarginTop: \"-6px\"\n\t\t}\n\t}\n}));\n\nconst TicketsManagerTabs = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  \n\n\n  \n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tab, setTab] = useState(\"open\");\n  const [tabOpen, setTabOpen] = useState(\"open\");\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\n\n  const searchInputRef = useRef();\n  const { user } = useContext(AuthContext);\n  const { profile } = user;\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n  const [openCount, setOpenCount] = useState(0);\n  const [pendingCount, setPendingCount] = useState(0);\n\n  const userQueueIds = user.queues.map((q) => q.id);\n  const [selectedQueueIds, setSelectedQueueIds] = useState(userQueueIds || []);\n  const [selectedTags, setSelectedTags] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n\n\n\n  useEffect(() => {\n    if (tab === \"search\") {\n      searchInputRef.current.focus();\n    }\n  }, [tab]);\n\n  let searchTimeout;\n\n  const handleSearch = (e) => {\n    const searchedTerm = e.target.value.toLowerCase();\n\n    clearTimeout(searchTimeout);\n\n    if (searchedTerm === \"\") {\n      setSearchParam(searchedTerm);\n      setTab(\"open\");\n      return;\n    }\n\n    searchTimeout = setTimeout(() => {\n      setSearchParam(searchedTerm);\n    }, 500);\n  };\n\n  const handleChangeTab = (e, newValue) => {\n    setTab(newValue);\n  };\n\n  const handleChangeTabOpen = (e, newValue) => {\n    setTabOpen(newValue);\n  };\n\n  const applyPanelStyle = (status) => {\n    if (tabOpen !== status) {\n      return { width: 0, height: 0 };\n    }\n  };\n\n  const handleCloseOrOpenTicket = (ticket) => {\n    setNewTicketModalOpen(false);\n    if (ticket !== undefined && ticket.uuid !== undefined) {\n      history.push(`/tickets/${ticket.uuid}`);\n    }\n  };\n\n  const handleSelectedTags = (selecteds) => {\n    const tags = selecteds.map((t) => t.id);\n    setSelectedTags(tags);\n  };\n\n  const handleSelectedUsers = (selecteds) => {\n    const users = selecteds.map((t) => t.id);\n    setSelectedUsers(users);\n  };\n\n  const CloseAllTicket = async () => {\n    try {\n      await api.post(\"/tickets/closeAll\", {\n        status: tabOpen,\n        selectedQueueIds,\n      });\n\n      handleSnackbarClose();\n\n    } catch (err) {\n      console.log(\"Error: \", err);\n    }\n  };\n\n  const handleSnackbarOpen = () => {\n    setSnackbarOpen(true);\n  };\n\n  const handleSnackbarClose = () => {\n    setSnackbarOpen(false);\n  };\n\n  const handleOpenTransferModal = () => {\n    setTransferTicketModalOpen(true);\n  };\n\n  const handleCloseTransferModal = () => {\n    setTransferTicketModalOpen(false);\n  };\n\n  return (\n    <Paper elevation={0} variant=\"outlined\" className={classes.ticketsWrapper}>\n      <NewTicketModal\n        modalOpen={newTicketModalOpen}\n        onClose={(ticket) => {\n          \n          handleCloseOrOpenTicket(ticket);\n        }}\n      />\n      <Paper elevation={0} square className={classes.tabsHeader}>\n        <Tabs\n          value={tab}\n          onChange={handleChangeTab}\n          variant=\"fullWidth\"\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          aria-label=\"icon label tabs example\"\n        >\n          <Tab\n            value={\"open\"}\n            icon={<MoveToInboxIcon />}\n            label={i18n.t(\"tickets.tabs.open.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"closed\"}\n            icon={<CheckBoxIcon />}\n            label={i18n.t(\"tickets.tabs.closed.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"search\"}\n            icon={<SearchIcon />}\n            label={i18n.t(\"tickets.tabs.search.title\")}\n            classes={{ root: classes.tab }}\n          />\n        </Tabs>\n      </Paper>\n      <Paper square elevation={0} className={classes.ticketOptionsBox}>\n        {tab === \"search\" ? (\n          <div className={classes.serachInputWrapper}>\n            <SearchIcon className={classes.searchIcon} />\n            <InputBase\n              className={classes.searchInput}\n              inputRef={searchInputRef}\n              placeholder={i18n.t(\"tickets.search.placeholder\")}\n              type=\"search\"\n              onChange={handleSearch}\n            />\n          </div>\n        ) : (\n          <>\n            <Snackbar\n              open={snackbarOpen}\n              onClose={handleSnackbarClose}\n              message={i18n.t(\"tickets.inbox.closedAllTickets\")}\n              ContentProps={{\n                className: classes.snackbar,\n              }}\n              action={\n                <>\n                  <Button\n                    className={classes.yesButton}\n                    size=\"small\"\n                    onClick={CloseAllTicket}\n                  >\n                    {i18n.t(\"tickets.inbox.yes\")}\n                  </Button>\n                  <Button\n                    className={classes.noButton}\n                    size=\"small\"\n                    onClick={handleSnackbarClose}\n                  >\n                    {i18n.t(\"tickets.inbox.no\")}\n                  </Button>\n                </>\n              }\n            />\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              startIcon={<AddIcon />}\n              onClick={handleOpenTransferModal}\n              style={{ marginRight: 8 }}\n            >\n              Asignar Ticket\n            </Button>\n\t\t\t{user.profile === \"admin\" && (\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                startIcon={<PlaylistAddCheckOutlinedIcon style={{ color: \"white\" }} />}\n                onClick={handleSnackbarOpen}\n                style={{ marginRight: 8 }}\n              >\n                Cerrar tickets\n              </Button>\n            )}\n\n          </>\n        )}\n        <TicketsQueueSelect\n          style={{ marginLeft: 6 }}\n          selectedQueueIds={selectedQueueIds}\n          userQueues={user?.queues}\n          onChange={(values) => setSelectedQueueIds(values)}\n        />\n      </Paper>\n      <TabPanel value={tab} name=\"open\" className={classes.ticketsWrapper}>\n        <Tabs\n          value={tabOpen}\n          onChange={handleChangeTabOpen}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"fullWidth\"\n        >\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={openCount}\n                color=\"primary\"\n              >\n                {i18n.t(\"ticketsList.assignedHeader\")}\n              </Badge>\n            }\n            value={\"open\"}\n          />\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={pendingCount}\n                color=\"secondary\"\n              >\n                {i18n.t(\"ticketsList.pendingHeader\")}\n              </Badge>\n            }\n            value={\"pending\"}\n          />\n        </Tabs>\n        <Paper className={classes.ticketsWrapper}>\n          <TicketsList\n            status=\"open\"\n            showAll={true}\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setOpenCount(val)}\n            style={applyPanelStyle(\"open\")}\n          />\n          <TicketsList\n            status=\"pending\"\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setPendingCount(val)}\n            style={applyPanelStyle(\"pending\")}\n          />\n        </Paper>\n      </TabPanel>\n      <TabPanel value={tab} name=\"closed\" className={classes.ticketsWrapper}>\n        <TicketsList\n          status=\"closed\"\n          showAll={true}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n      <TabPanel value={tab} name=\"search\" className={classes.ticketsWrapper}>\n        <TagsFilter onFiltered={handleSelectedTags} />\n        {profile === \"admin\" && (\n          <UsersFilter onFiltered={handleSelectedUsers} />\n        )}\n        <TicketsList\n          searchParam={searchParam}\n          showAll={true}\n          tags={selectedTags}\n          users={selectedUsers}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n      <TransferTicketModalCustom\n        modalOpen={transferTicketModalOpen}\n        onClose={handleCloseTransferModal}\n        ticketid={null}\n      />\n    </Paper>\n  );\n};\n\nexport default TicketsManagerTabs;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}