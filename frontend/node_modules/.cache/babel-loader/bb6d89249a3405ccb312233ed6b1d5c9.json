{"ast":null,"code":"// colorGenerator.js\n\n// Function to hash a string to a number\nfunction hashStringToNumber(str) {\n  if (!str) {\n    return 0x7F7F7F; // 50% of all colors\n  }\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    const char = str.charCodeAt(i);\n    hash = (hash << 5) - hash + char;\n    hash |= 0; // Convert to 32bit integer\n  }\n  return hash;\n}\n\n// Function to generate a color from a hash\nfunction generateColorFromHash(hash) {\n  // Normalize the hash value\n  const normalizedHash = Math.abs(hash) % 16777215; // 16777215 is 0xFFFFFF\n  const r = (normalizedHash & 0xFF0000) >> 16;\n  const g = (normalizedHash & 0x00FF00) >> 8;\n  const b = normalizedHash & 0x0000FF;\n  return {\n    r,\n    g,\n    b\n  };\n}\n\n// Function to get the luminance of a color\nfunction getLuminance(r, g, b) {\n  return 0.299 * r + 0.587 * g + 0.114 * b;\n}\n\n// Function to adjust color for contrast\nfunction adjustColorForContrast(r, g, b) {\n  const luminance = getLuminance(r, g, b);\n  const thresholdLow = 50; // Luminance threshold for dark colors\n  const thresholdHigh = 200; // Luminance threshold for bright colors\n\n  if (luminance < thresholdLow) {\n    // Lighten the color if too dark\n    r = Math.min(255, r + 50);\n    g = Math.min(255, g + 50);\n    b = Math.min(255, b + 50);\n  } else if (luminance > thresholdHigh) {\n    // Darken the color if too bright\n    r = Math.max(0, r - 50);\n    g = Math.max(0, g - 50);\n    b = Math.max(0, b - 50);\n  }\n  return `rgb(${r}, ${g}, ${b})`;\n}\n\n// Main function to generate color from user identifier\nfunction generateColor(identifier) {\n  const hash = hashStringToNumber(identifier);\n  const {\n    r,\n    g,\n    b\n  } = generateColorFromHash(hash);\n  const luminance = getLuminance(r, g, b);\n  const thresholdLow = 50; // Luminance threshold for dark colors\n  const thresholdHigh = 200; // Luminance threshold for bright colors\n\n  if (luminance < thresholdLow || luminance > thresholdHigh) {\n    return adjustColorForContrast(r, g, b);\n  }\n  return `rgb(${r}, ${g}, ${b})`;\n}\n\n// Export the function\nexport { generateColor };","map":{"version":3,"names":["hashStringToNumber","str","hash","i","length","char","charCodeAt","generateColorFromHash","normalizedHash","Math","abs","r","g","b","getLuminance","adjustColorForContrast","luminance","thresholdLow","thresholdHigh","min","max","generateColor","identifier"],"sources":["C:/laragon/www/whaticket03/waticketsaas/frontend/src/helpers/colorGenerator.js"],"sourcesContent":["// colorGenerator.js\n\n// Function to hash a string to a number\nfunction hashStringToNumber(str) {\n  if (!str) {\n    return 0x7F7F7F;  // 50% of all colors\n  }\n  \n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    const char = str.charCodeAt(i);\n    hash = (hash << 5) - hash + char;\n    hash |= 0; // Convert to 32bit integer\n  }\n  return hash;\n}\n\n// Function to generate a color from a hash\nfunction generateColorFromHash(hash) {\n  // Normalize the hash value\n  const normalizedHash = Math.abs(hash) % 16777215; // 16777215 is 0xFFFFFF\n  const r = (normalizedHash & 0xFF0000) >> 16;\n  const g = (normalizedHash & 0x00FF00) >> 8;\n  const b = normalizedHash & 0x0000FF;\n  return { r, g, b };\n}\n\n// Function to get the luminance of a color\nfunction getLuminance(r, g, b) {\n  return 0.299 * r + 0.587 * g + 0.114 * b;\n}\n\n// Function to adjust color for contrast\nfunction adjustColorForContrast(r, g, b) {\n  const luminance = getLuminance(r, g, b);\n  const thresholdLow = 50;  // Luminance threshold for dark colors\n  const thresholdHigh = 200; // Luminance threshold for bright colors\n\n  if (luminance < thresholdLow) {\n    // Lighten the color if too dark\n    r = Math.min(255, r + 50);\n    g = Math.min(255, g + 50);\n    b = Math.min(255, b + 50);\n  } else if (luminance > thresholdHigh) {\n    // Darken the color if too bright\n    r = Math.max(0, r - 50);\n    g = Math.max(0, g - 50);\n    b = Math.max(0, b - 50);\n  }\n  return `rgb(${r}, ${g}, ${b})`;\n}\n\n// Main function to generate color from user identifier\nfunction generateColor(identifier) {\n  const hash = hashStringToNumber(identifier);\n  const { r, g, b } = generateColorFromHash(hash);\n  const luminance = getLuminance(r, g, b);\n  const thresholdLow = 50;  // Luminance threshold for dark colors\n  const thresholdHigh = 200; // Luminance threshold for bright colors\n\n  if (luminance < thresholdLow || luminance > thresholdHigh) {\n    return adjustColorForContrast(r, g, b);\n  }\n  return `rgb(${r}, ${g}, ${b})`;\n}\n\n// Export the function\nexport { generateColor };\n"],"mappings":"AAAA;;AAEA;AACA,SAASA,kBAAkBA,CAACC,GAAG,EAAE;EAC/B,IAAI,CAACA,GAAG,EAAE;IACR,OAAO,QAAQ,CAAC,CAAE;EACpB;EAEA,IAAIC,IAAI,GAAG,CAAC;EACZ,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,GAAG,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;IACnC,MAAME,IAAI,GAAGJ,GAAG,CAACK,UAAU,CAACH,CAAC,CAAC;IAC9BD,IAAI,GAAG,CAACA,IAAI,IAAI,CAAC,IAAIA,IAAI,GAAGG,IAAI;IAChCH,IAAI,IAAI,CAAC,CAAC,CAAC;EACb;EACA,OAAOA,IAAI;AACb;;AAEA;AACA,SAASK,qBAAqBA,CAACL,IAAI,EAAE;EACnC;EACA,MAAMM,cAAc,GAAGC,IAAI,CAACC,GAAG,CAACR,IAAI,CAAC,GAAG,QAAQ,CAAC,CAAC;EAClD,MAAMS,CAAC,GAAG,CAACH,cAAc,GAAG,QAAQ,KAAK,EAAE;EAC3C,MAAMI,CAAC,GAAG,CAACJ,cAAc,GAAG,QAAQ,KAAK,CAAC;EAC1C,MAAMK,CAAC,GAAGL,cAAc,GAAG,QAAQ;EACnC,OAAO;IAAEG,CAAC;IAAEC,CAAC;IAAEC;EAAE,CAAC;AACpB;;AAEA;AACA,SAASC,YAAYA,CAACH,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EAC7B,OAAO,KAAK,GAAGF,CAAC,GAAG,KAAK,GAAGC,CAAC,GAAG,KAAK,GAAGC,CAAC;AAC1C;;AAEA;AACA,SAASE,sBAAsBA,CAACJ,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAE;EACvC,MAAMG,SAAS,GAAGF,YAAY,CAACH,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC;EACvC,MAAMI,YAAY,GAAG,EAAE,CAAC,CAAE;EAC1B,MAAMC,aAAa,GAAG,GAAG,CAAC,CAAC;;EAE3B,IAAIF,SAAS,GAAGC,YAAY,EAAE;IAC5B;IACAN,CAAC,GAAGF,IAAI,CAACU,GAAG,CAAC,GAAG,EAAER,CAAC,GAAG,EAAE,CAAC;IACzBC,CAAC,GAAGH,IAAI,CAACU,GAAG,CAAC,GAAG,EAAEP,CAAC,GAAG,EAAE,CAAC;IACzBC,CAAC,GAAGJ,IAAI,CAACU,GAAG,CAAC,GAAG,EAAEN,CAAC,GAAG,EAAE,CAAC;EAC3B,CAAC,MAAM,IAAIG,SAAS,GAAGE,aAAa,EAAE;IACpC;IACAP,CAAC,GAAGF,IAAI,CAACW,GAAG,CAAC,CAAC,EAAET,CAAC,GAAG,EAAE,CAAC;IACvBC,CAAC,GAAGH,IAAI,CAACW,GAAG,CAAC,CAAC,EAAER,CAAC,GAAG,EAAE,CAAC;IACvBC,CAAC,GAAGJ,IAAI,CAACW,GAAG,CAAC,CAAC,EAAEP,CAAC,GAAG,EAAE,CAAC;EACzB;EACA,OAAO,OAAOF,CAAC,KAAKC,CAAC,KAAKC,CAAC,GAAG;AAChC;;AAEA;AACA,SAASQ,aAAaA,CAACC,UAAU,EAAE;EACjC,MAAMpB,IAAI,GAAGF,kBAAkB,CAACsB,UAAU,CAAC;EAC3C,MAAM;IAAEX,CAAC;IAAEC,CAAC;IAAEC;EAAE,CAAC,GAAGN,qBAAqB,CAACL,IAAI,CAAC;EAC/C,MAAMc,SAAS,GAAGF,YAAY,CAACH,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC;EACvC,MAAMI,YAAY,GAAG,EAAE,CAAC,CAAE;EAC1B,MAAMC,aAAa,GAAG,GAAG,CAAC,CAAC;;EAE3B,IAAIF,SAAS,GAAGC,YAAY,IAAID,SAAS,GAAGE,aAAa,EAAE;IACzD,OAAOH,sBAAsB,CAACJ,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC;EACxC;EACA,OAAO,OAAOF,CAAC,KAAKC,CAAC,KAAKC,CAAC,GAAG;AAChC;;AAEA;AACA,SAASQ,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module"}